{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/nazar/Documents/GitHub/uebs/src/app/apply/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect, useRef } from \"react\";\nimport Link from \"next/link\";\n\nexport default function ApplyPage() {\n  const [form, setForm] = useState({\n    fullName: \"\",\n    email: \"\",\n    phone: \"\",\n    city: \"Рівне\",\n    format: \"очний\",\n    note: \"\",\n  });\n  const [status, setStatus] = useState<null | \"idle\" | \"sending\" | \"success\" | \"error\">(\"idle\");\n  const [showModal, setShowModal] = useState(false);\n  const closeRef = useRef<HTMLButtonElement | null>(null);\n\n  useEffect(() => {\n    if (showModal) {\n      const t = setTimeout(() => setShowModal(false), 5000);\n      return () => clearTimeout(t);\n    }\n  }, [showModal]);\n\n  useEffect(() => {\n    if (showModal) closeRef.current?.focus();\n  }, [showModal]);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>) => {\n    setForm((s) => ({ ...s, [e.target.name]: e.target.value }));\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!form.fullName || !form.email) {\n      setStatus(\"error\");\n      return;\n    }\n\n    setStatus(\"sending\");\n\n    try {\n      const res = await fetch(\"/api/apply\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(form),\n      });\n\n      const data = await res.json();\n\n      if (data.success) {\n        setStatus(\"success\");\n        setForm({ fullName: \"\", email: \"\", phone: \"\", city: \"Рівне\", format: \"очний\", note: \"\" });\n        setShowModal(true);\n      } else {\n        setStatus(\"error\");\n      }\n    } catch (err) {\n      console.error(err);\n      setStatus(\"error\");\n    }\n  };\n\n  return (\n    <>\n      <section\n        style={{\n        background:\n          \"rgba(2, 24, 40, 1)\"\n      }}\n      >\n        <main className=\"container mx-auto px-4 py-10\">\n          <div className=\"max-w-4xl mx-auto bg-white/80 backdrop-blur-sm rounded-xl shadow-md overflow-hidden\">\n            <div className=\"grid md:grid-cols-2 gap-6 p-6\">\n              <section className=\"px-2\">\n                <img src=\"/logo-black.svg\" alt=\"\" />\n                <h1 className=\"text-2xl font-bold text-slate-900\">Записатися</h1>\n                <p className=\"mt-2 text-slate-700\">\n                  Заповніть коротку заявку. Заняття у Рівному, вечірній формат,\n                  2 рази на місяць.\n                </p>\n\n                <form className=\"mt-5 space-y-4\" onSubmit={handleSubmit}>\n                  <div>\n                    <label className=\"block text-sm font-medium text-slate-700\">ПІБ</label>\n                    <input\n                      name=\"fullName\"\n                      value={form.fullName}\n                      onChange={handleChange}\n                      required\n                      className=\"mt-1 w-full rounded-md border px-3 py-2 focus:outline-none focus:ring-2 focus:ring-amber-300 text-black\"\n                      placeholder=\"Іван Іваненко\"\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-slate-700\">Email</label>\n                    <input\n                      name=\"email\"\n                      type=\"email\"\n                      value={form.email}\n                      onChange={handleChange}\n                      required\n                      className=\"mt-1 w-full rounded-md border px-3 py-2 focus:outline-none focus:ring-2 focus:ring-amber-300 text-black\"\n                      placeholder=\"name@example.com\"\n                    />\n                  </div>\n\n                  <div className=\"grid grid-cols-2 gap-3\">\n                    <div>\n                      <label className=\"block text-sm font-medium text-slate-700\">Телефон</label>\n                      <input\n                        name=\"phone\"\n                        value={form.phone}\n                        onChange={handleChange}\n                        className=\"mt-1 w-full rounded-md border px-3 py-2 focus:outline-none focus:ring-2 focus:ring-amber-300 text-black\"\n                        placeholder=\"+380 63 000 0000\"\n                      />\n                    </div>\n\n                    <div>\n                      <label className=\"block text-sm font-medium text-slate-700\">Місто</label>\n                      <input\n                        name=\"city\"\n                        value={form.city}\n                        onChange={handleChange}\n                        className=\"mt-1 w-full rounded-md border px-3 py-2 focus:outline-none focus:ring-2 focus:ring-amber-300 text-black\"\n                      />\n                    </div>\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-slate-700\">Формат</label>\n                    <select\n                      name=\"format\"\n                      value={form.format}\n                      onChange={handleChange}\n                      className=\"mt-1 w-full rounded-md border px-3 py-2 focus:outline-none focus:ring-2 focus:ring-amber-300 text-black\"\n                    >\n                      <option value=\"очний\">Очний (Рівне)</option>\n                      <option value=\"онлайн\">Онлайн</option>\n                      <option value=\"змішаний\">Змішаний</option>\n                    </select>\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-slate-700\">Коротко про мотивацію (необов&apos;язково)</label>\n                    <textarea\n                      name=\"note\"\n                      value={form.note}\n                      onChange={handleChange}\n                      rows={4}\n                      className=\"mt-1 w-full rounded-md border px-3 py-2 focus:outline-none focus:ring-2 focus:ring-amber-300 text-black\"\n                      placeholder=\"Чому хочете пройти програму...\"\n                    />\n                  </div>\n\n                  <div className=\"flex items-center gap-3\">\n                    <button\n                      type=\"submit\"\n                      disabled={status === \"sending\"}\n                      className=\"inline-flex items-center justify-center px-4 py-2 bg-amber-500 text-slate-900 font-semibold rounded-md shadow-sm hover:scale-[1.02] transition-transform disabled:opacity-60 w-full\"\n                    >\n                      {status === \"sending\" ? \"Відправляємо...\" : \"Відправити заявку\"}\n                    </button>\n\n                    <div className=\"text-sm text-slate-600\">\n                      {status === \"error\" && <span className=\"text-rose-600\">Помилка. Перевірте поля та спробуйте знову. <a href=\"https://t.me/maryanishere\" className=\"underline\">Зв язатися</a> з нами</span>}\n                    </div>\n                  </div>\n                </form>\n              </section>\n\n              <aside className=\"px-4 border-l hidden md:block\">\n                <div className=\"mb-4\">\n                  <h3 className=\"text-lg font-semibold text-slate-800\">Коротко про курс</h3>\n                  <p className=\"mt-2 text-sm text-slate-700\">\n                    Повна програма — 50 зустрічей. Формат: вечірні заняття по 2 години. Теми: Основи віри, Біблійне дослідження,\n                    учнівство, служіння, сім&apos;я, церква та майбутнє.\n                  </p>\n                </div>\n\n                <div className=\"mb-4\">\n                  <h4 className=\"text-sm font-medium text-slate-700\">Що потрібно</h4>\n                  <ul className=\"mt-2 text-sm text-slate-600 list-disc list-inside space-y-1\">\n                    <li>Бажання вчитися і служити</li>\n                    <li>Регулярна участь (2 рази на місяць)</li>\n                    <li>Серце, відкрите до змін</li>\n                  </ul>\n                </div>\n\n                <div className=\"text-sm text-slate-600\">\n                  Питання? <Link href=\"/contact\" className=\"text-amber-500 font-semibold\">Зв&apos;яжіться з нами</Link>.\n                </div>\n              </aside>\n            </div>\n          </div>\n        </main>\n      </section>\n\n      {/* SUCCESS MODAL */}\n      {showModal && (\n        <div\n          role=\"dialog\"\n          aria-modal=\"true\"\n          className=\"fixed inset-0 z-50 flex items-center justify-center\"\n        >\n          <div className=\"absolute inset-0 bg-black/50\" onClick={() => setShowModal(false)} />\n           <div className=\"relative bg-white rounded-lg shadow-lg max-w-md w-full mx-4 p-6 z-10 flex flex-col items-center\">\n            <p className=\"text-[48px]\">✅</p>\n            <p className=\"text-sm text-green-500 mb-4 text-center\">Ваша заявка надіслана.</p>\n            <div className=\"flex justify-end gap-2\">\n              <button\n                ref={closeRef}\n                onClick={() => setShowModal(false)}\n                className=\"px-4 py-2 rounded-md bg-slate-200 hover:bg-slate-300 items-center flex justify-center\"\n              >\n                Закрити\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n}"],"names":[],"mappings":"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","debugId":null}}]
}