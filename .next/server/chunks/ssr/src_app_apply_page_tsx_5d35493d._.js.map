{"version":3,"sources":["turbopack:///[project]/src/app/apply/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect, useRef } from \"react\";\nimport Link from \"next/link\";\n\nexport default function ApplyPage() {\n  const [form, setForm] = useState({\n    fullName: \"\",\n    email: \"\",\n    phone: \"\",\n    city: \"Рівне\",\n    format: \"очний\",\n    note: \"\",\n  });\n  const [status, setStatus] = useState<null | \"idle\" | \"sending\" | \"success\" | \"error\">(\"idle\");\n  const [showModal, setShowModal] = useState(false);\n  const closeRef = useRef<HTMLButtonElement | null>(null);\n\n  useEffect(() => {\n    if (showModal) {\n      const t = setTimeout(() => setShowModal(false), 5000);\n      return () => clearTimeout(t);\n    }\n  }, [showModal]);\n\n  useEffect(() => {\n    if (showModal) closeRef.current?.focus();\n  }, [showModal]);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>) => {\n    setForm((s) => ({ ...s, [e.target.name]: e.target.value }));\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!form.fullName || !form.email) {\n      setStatus(\"error\");\n      return;\n    }\n\n    setStatus(\"sending\");\n\n    try {\n      const res = await fetch(\"/api/apply\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(form),\n      });\n\n      const data = await res.json();\n\n      if (data.success) {\n        setStatus(\"success\");\n        setForm({ fullName: \"\", email: \"\", phone: \"\", city: \"Рівне\", format: \"очний\", note: \"\" });\n        setShowModal(true);\n      } else {\n        setStatus(\"error\");\n      }\n    } catch (err) {\n      console.error(err);\n      setStatus(\"error\");\n    }\n  };\n\n  return (\n    <>\n      <section\n        style={{\n        background:\n          \"rgba(2, 24, 40, 1)\"\n      }}\n      >\n        <main className=\"container mx-auto px-4 py-10\">\n          <div className=\"max-w-4xl mx-auto bg-white/80 backdrop-blur-sm rounded-xl shadow-md overflow-hidden\">\n            <div className=\"grid md:grid-cols-2 gap-6 p-6\">\n              <section className=\"px-2\">\n                <img src=\"/logo-black.svg\" alt=\"\" />\n                <h1 className=\"text-2xl font-bold text-slate-900\">Записатися</h1>\n                <p className=\"mt-2 text-slate-700\">\n                  Заповніть коротку заявку. Заняття у Рівному, вечірній формат,\n                  2 рази на місяць.\n                </p>\n\n                <form className=\"mt-5 space-y-4\" onSubmit={handleSubmit}>\n                  <div>\n                    <label className=\"block text-sm font-medium text-slate-700\">ПІБ</label>\n                    <input\n                      name=\"fullName\"\n                      value={form.fullName}\n                      onChange={handleChange}\n                      required\n                      className=\"mt-1 w-full rounded-md border px-3 py-2 focus:outline-none focus:ring-2 focus:ring-amber-300 text-black\"\n                      placeholder=\"Іван Іваненко\"\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-slate-700\">Email</label>\n                    <input\n                      name=\"email\"\n                      type=\"email\"\n                      value={form.email}\n                      onChange={handleChange}\n                      required\n                      className=\"mt-1 w-full rounded-md border px-3 py-2 focus:outline-none focus:ring-2 focus:ring-amber-300 text-black\"\n                      placeholder=\"name@example.com\"\n                    />\n                  </div>\n\n                  <div className=\"grid grid-cols-2 gap-3\">\n                    <div>\n                      <label className=\"block text-sm font-medium text-slate-700\">Телефон</label>\n                      <input\n                        name=\"phone\"\n                        value={form.phone}\n                        onChange={handleChange}\n                        className=\"mt-1 w-full rounded-md border px-3 py-2 focus:outline-none focus:ring-2 focus:ring-amber-300 text-black\"\n                        placeholder=\"+380 63 000 0000\"\n                      />\n                    </div>\n\n                    <div>\n                      <label className=\"block text-sm font-medium text-slate-700\">Місто</label>\n                      <input\n                        name=\"city\"\n                        value={form.city}\n                        onChange={handleChange}\n                        className=\"mt-1 w-full rounded-md border px-3 py-2 focus:outline-none focus:ring-2 focus:ring-amber-300 text-black\"\n                      />\n                    </div>\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-slate-700\">Формат</label>\n                    <select\n                      name=\"format\"\n                      value={form.format}\n                      onChange={handleChange}\n                      className=\"mt-1 w-full rounded-md border px-3 py-2 focus:outline-none focus:ring-2 focus:ring-amber-300 text-black\"\n                    >\n                      <option value=\"очний\">Очний (Рівне)</option>\n                      <option value=\"онлайн\">Онлайн</option>\n                      <option value=\"змішаний\">Змішаний</option>\n                    </select>\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-slate-700\">Коротко про мотивацію (необов&apos;язково)</label>\n                    <textarea\n                      name=\"note\"\n                      value={form.note}\n                      onChange={handleChange}\n                      rows={4}\n                      className=\"mt-1 w-full rounded-md border px-3 py-2 focus:outline-none focus:ring-2 focus:ring-amber-300 text-black\"\n                      placeholder=\"Чому хочете пройти програму...\"\n                    />\n                  </div>\n\n                  <div className=\"flex items-center gap-3\">\n                    <button\n                      type=\"submit\"\n                      disabled={status === \"sending\"}\n                      className=\"inline-flex items-center justify-center px-4 py-2 bg-amber-500 text-slate-900 font-semibold rounded-md shadow-sm hover:scale-[1.02] transition-transform disabled:opacity-60 w-full\"\n                    >\n                      {status === \"sending\" ? \"Відправляємо...\" : \"Відправити заявку\"}\n                    </button>\n\n                    <div className=\"text-sm text-slate-600\">\n                      {status === \"error\" && <span className=\"text-rose-600\">Помилка. Перевірте поля та спробуйте знову.</span>}\n                    </div>\n                  </div>\n                </form>\n              </section>\n\n              <aside className=\"px-4 border-l hidden md:block\">\n                <div className=\"mb-4\">\n                  <h3 className=\"text-lg font-semibold text-slate-800\">Коротко про курс</h3>\n                  <p className=\"mt-2 text-sm text-slate-700\">\n                    Повна програма — 50 зустрічей. Формат: вечірні заняття по 2 години. Теми: Основи віри, Біблійне дослідження,\n                    учнівство, служіння, сім&apos;я, церква та майбутнє.\n                  </p>\n                </div>\n\n                <div className=\"mb-4\">\n                  <h4 className=\"text-sm font-medium text-slate-700\">Що потрібно</h4>\n                  <ul className=\"mt-2 text-sm text-slate-600 list-disc list-inside space-y-1\">\n                    <li>Бажання вчитися і служити</li>\n                    <li>Регулярна участь (2 рази на місяць)</li>\n                    <li>Серце, відкрите до змін</li>\n                  </ul>\n                </div>\n\n                <div className=\"text-sm text-slate-600\">\n                  Питання? <Link href=\"/contact\" className=\"text-amber-500 font-semibold\">Зв&apos;яжіться з нами</Link>.\n                </div>\n              </aside>\n            </div>\n          </div>\n        </main>\n      </section>\n\n      {/* SUCCESS MODAL */}\n      {showModal && (\n        <div\n          role=\"dialog\"\n          aria-modal=\"true\"\n          className=\"fixed inset-0 z-50 flex items-center justify-center\"\n        >\n          <div className=\"absolute inset-0 bg-black/50\" onClick={() => setShowModal(false)} />\n           <div className=\"relative bg-white rounded-lg shadow-lg max-w-md w-full mx-4 p-6 z-10 flex flex-col items-center\">\n            <p className=\"text-[48px]\">✅</p>\n            <p className=\"text-sm text-green-500 mb-4 text-center\">Ваша заявка надіслана.</p>\n            <div className=\"flex justify-end gap-2\">\n              <button\n                ref={closeRef}\n                onClick={() => setShowModal(false)}\n                className=\"px-4 py-2 rounded-md bg-slate-200 hover:bg-slate-300 items-center flex justify-center\"\n              >\n                Закрити\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n}"],"names":[],"mappings":"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"}